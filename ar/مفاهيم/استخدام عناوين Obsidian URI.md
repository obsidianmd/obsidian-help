---
aliases:
  - استخدام Obsidian URI
permalink: concepts/obsidian-uri
---

عناوين Obsidian URI هي بروتوكولًا مخصصًا مدعومًا بواسطة Obsidian يتيح لك تشغيل إجراءات متعددة، مثل فتح ملاحظة أو إنشاء ملاحظة.

عادةً ما يتم استخدامها على macOS وتطبيقات الهواتف المحمولة للأتمتة وتدفق العمل بين التطبيقات.

عناوين Obsidian URI تكون عادة بهذا التنسيق:

```
obsidian://action?param1=value&param2=value
```

المُعامل `action` هو الإجراء الذي ترغب في تنفيذه.

> [!تحذير] الترميز
> تأكد من ترميز عنوان URI لقيمك بشكل صحيح. على سبيل المثال، يجب ترميز الشرطة الخلفية `/` على أنها `%2F` ويجب ترميز مسافات الفراغ كـ `%20`.
>
> هذا مهم للغاية لأن حرف "محجوز" الذي لم يتم ترميزه بشكل صحيح قد يؤدي إلى تعطيل تفسير عنوان URI. [راجع هنا للتفاصيل](https://en.wikipedia.org/wiki/Percent-encoding).

## تسجيل Obsidian URI

في Windows و macOS، يجب أن يكون تشغيل التطبيق مرة واحدة كافيًا لتسجيل بروتوكول عناوين Obsidian URI على جهاز الكمبيوتر.

أما بالنسبة لنظام Linux، فهذه عملية أكثر تعقيدًا:

1. تأكد من إنشاء ملف `obsidian.desktop`. [راجع هنا للتفاصيل](https://developer.gnome.org/documentation/guidelines/maintainer/integrating.html#desktop-files).
2. تأكد من أن ملف سطح المكتب يحدد الحقل `Exec` بأنه `Exec=executable %u`. يستخدم `%u` لتمرير عناوين `obsidian://` URI إلى التطبيق.
3. إذا كنت تستخدم مثبت AppImage، قد تحتاج إلى فكه باستخدام `Obsidian-x.y.z.AppImage --appimage-extract`. ثم تأكد من أن التوجيه `Exec` يشير لقابلية التنفيذ بعد فكه.

## فتح الملاحظات

يفتح قبو Obsidian أو يفتح ملفًا داخل ذلك القبو.

### أمثلة

- `obsidian://open?vault=my%20vault`
	يفتح القبو `my vault`. إذا كان القبو مفتوحًا بالفعل، فالتركيز سيكون على النافذة.

- `obsidian://open?vault=ef6ca3e3b524d22f`
	يفتح القبو معرف برقم `ef6ca3e3b524d22f`.

- `obsidian://open?vault=my%20vault&file=my%20note`
	يفتح الملاحظة `my note.md` في القبو `my vault`، في حال كان الملف موجودًا.

- `obsidian://open?path=%2Fhome%2Fuser%2Fmy%20vault%2Fpath%2Fto%2Fmy%20note`
	سيبحث هذا الأمر عن أي قبو يحتوي على المسار <code dir="ltr">/home/user/my vault/path/to/my note</code>. بعد ذلك، يتم تمرير بقية المسار إلى المُعامل `file`. على سبيل المثال، إذا كان هناك قبو موجودًا في <code dir="ltr">/home/user/my vault</code>، فسيكون ذلك مكافئًا للمُعامل `file` المعين على`path/to/my note`.

> [!تلميح] فتح عنوان أو كتلة
> مع الترميز المناسب لعنوان URI، يمكنك التنقل إلى عنوان أو كتلة داخل ملاحظة. `Note%23Heading` سيقوم بالتنقل إلى العنوان المسمى "Heading"، في حين أن `Note%23%5EBlock` سيقوم بالتنقل إلى الكتلة المسماة "Block".

### المُعاملات

- `vault` يمكن أن يكون اسم القبو أو معرّف القبو[^1].
- `file` يمكن أن يكون اسم ملف أو مسار من جذر القبو إلى الملف المحدد. إذا كان امتداد الملف `md`، فيمكن تجاهل الامتداد.
- `path` مسار مطلق لنظام الملفات يشير إلى ملف.
	- سيؤدي استخدام هذه المُعامل إلى استبدال كل من المُعاملان `vault` و `file`.
	- سيؤدي هذا إلى إجبار التطبيق على البحث عن القبو الأكثر تحديدًا الذي يحتوي على المسار المحدد للملف.
	- ثم يتم استبدال بقية المسار بالمُعامل `file`.

## فتح البحث

هذه نقطة نهاية عنوان Obsidian URI تفتح [[البحث|بحث]] في القبو المحدد، وتنفذ استعلام بحث اختياري.

### أمثلة

- `obsidian://search?vault=my%20vault`
	هذا يفتح قبو `my vault`، ويفتح [[البحث|بحث]].

- `obsidian://search?vault=my%20vault&query=Obsidian`
	هذا يفتح قبو `my vault`، ويفتح [[البحث|بحث]]، وينفذ بحثًا عن `Obsidian`.

### المُعامات

- `vault` يمكن أن يكون اسم القبو أو معرّف القبو[^1]. نفس المُعامل كإجراء `open`.
- `query` (اختياري) استعلام البحث الذي سيتم تنفيذه.

## إنشاء ملاحظة

هذه النقطة نهاية عنوان Obsidian URI تنشئ ملاحظة جديدة في القبو، مع محتوى اختياري.

### أمثلة

- `obsidian://new?vault=my%20vault&name=my%20note`
	يفتح قبو `my vault`، وينشئ ملاحظة جديدة تسمى `my note`.
- `obsidian://new?vault=my%20vault&path=path%2Fto%2Fmy%20note`
	يفتح قبو `my vault`، وينشئ ملاحظة جديدة في المسار `path/to/my note`.

### المُعاملات

- `vault` يمكن أن يكون اسم القبو أو معرّف القبو[^1]. نفس المُعامل `open`.
- `name` اسم الملف الذي سيتم إنشاؤه. إذا تم تحديده، سيتم اختيار موقع الملف استنادًا إلى "الموقع الافتراضي للملاحظات الجديدة".
- `file` مسار مطلق للملف في القبو، بما في ذلك الاسم. سيتم التجاوز على `name` إذا تم تحديده.
- `path` مسار مطلق على مستوى النظام الملفات. يعمل بطريقة مشابهة لخيار `path` في الإجراء `open`، والذي سيتم التجاوز على كل من `vault` و `file`.
- `content` (اختياري) محتوى الملاحظة.
- `silent` (اختياري) تضمين هذه المُعامل إذا كنت لا تريد فتح الملاحظة الجديدة.
- `append` (اختياري) تضمين هذه المُعامل لإلحاقها بملف موجود إذا كان موجودًا.
- `overwrite` (اختياري) تجاوز ملف موجود إذا كان موجودًا، ولكن فقط إذا لم يتم تعيين `append`.
- `x-success` (اختياري) راجع [[#استخدام مُعاملات x-callback-url|x-callback-url]].

## تكامل مع Hook

هذه نقطة نهاية عنوان Obsidian URI تستخدم مع [Hook](https://hookproductivity.com/).

### أمثلة

`obsidian://hook-get-address`

### المُعاملات

- `vault` (اختياري) يمكن أن يكون اسم القبو أو معرّف القبو[^1]. إذا لم يتم توفيره، سيتم استخدام القبو الحالي أو آخر قبو تم التركيز عليها.
- `x-success` (اختياري) راجع [[#استخدام مُعاملات x-callback-url|x-callback-url]].
- `x-error` (اختياري) راجع [[#استخدام مُعاملات x-callback-url|x-callback-url]].

إذا تم تعريف `x-success`، سيقوم هذا API باستخدامه كرابط x-callback-url. خلاف ذلك، سيقوم بنسخ رابط Markdown للملاحظة التي تم التركيز عليها حاليًا إلى الحافظة، على هيئة رابط `obsidian://open`.

## استخدام مُعاملات x-callback-url

بعض نقاط النهاية تقبل مُعاملات x-callback-url مثل`x-success` و `x-error`. عندما يتم توفيرها، سيقدم Obsidian ما يلي إلى عملية الاستدعاء `x-success`:

- `name` اسم الملف، بدون امتداد الملف.
- `url` لعنوان URI <code dir="ltr">obsidian://</code> لهذا الملف.
- `file` (في سطح المكتب فقط) عنوان URL <code dir="ltr">file://</code> لهذا الملف.

على سبيل المثال، إذا تلقى Obsidian
`obsidian://.....x-success=myapp://x-callback-url`، سيكون الرد <code dir="ltr">myapp://x-callback-url?name=...&url=obsidian%3A%2F%2Fopen...&file=file%3A%2F%2F...</code>

## تنسيقات مختصرة

بالإضافة إلى التنسيقات المذكورة أعلاه، هناك تنسيقين "مختصرين" إضافيين متاحين لفتح الأقبية والملفات:

1. `obsidian://vault/my vault/my note`
	 معادل لـ `obsidian://open?vault=my%20vault&file=my%20note`.
2. `obsidian:///absolute/path/to/my note`
	 معادل لـ `obsidian://open?path=%2Fabsolute%2Fpath%2Fto%2Fmy%20note`.

[^1]: معرّف القبو هو الرمز المكوّن من 16 حرفًا يُعين للقبو، على سبيل المثال `ef6ca3e3b524d22f`. هذا معرّف فريد لكل مجلد على جهاز الكمبيوتر. لا يوجد وسيلة سهلة للعثور على هذا المعرف حاليًا، وسيتم تقديم طريقة لذلك في وقت لاحق من خلال محول الأقبية. حاليًا يمكن العثور عليه في <code dir="ltr">`%appdata%/obsidian/obsidian.json`</code> على نظام Windows. بالنسبة لـ macOS، قم بتعويض `%appdata%` بـ <code dir="ltr">~/Library/Application Support/</code>. وبالنسبة لنظام Linux، قم بتعويض `%appdata%` بـ <code dir="ltr">~/.config/</code>.
