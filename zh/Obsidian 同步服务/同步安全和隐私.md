---
aliases:
  - Security/privacy for Obsidian Sync
  - Access control for Obsidian Sync
  - Security and privacy
---

## 加密

为了你的数据安全，[[Obsidian 官方同步简介|官方同步]]在所有设备间的数据传输都进行了加密。任何人、任何设备要访问你的[[本地仓库与远程仓库|远程仓库]]，他们必须知道你的仓库密码。

当你新建远程仓库时，你有两个选项：

- **自定义端到端加密：** 开启该选项后，Obsidian 在将仓库数据发送到 Obsidian 服务器之前，将使用你设置的加密密钥对数据进行加密，随后再进行传输。这将使得没有密码的任何用户、设备都无法查看你的笔记（包括 Obsidian 团队）。
- **托管加密：** 如果你觉得自定义加密过于麻烦，不想记住这个密码，你也可以让 Obsidian 来托管加密。Obsidian 会在保证安全和隐私的同时，尽可能方便你的操作。

如果你忘记了自定义的加密密码，你的数据将永远保持加密状态。我们无法为你找回密码，或者为你提供数据解密服务。

以上选项仅影响远程仓库，本地仓库不会受到加密影响。

### 什么是端到端加密？

端到端加密意味着数据在离开当前设备时就已经被加密，并且在回到任意设备上时，只能被密钥解密后才能读取。

端到端加密意味着我们无法查看你的数据。任何潜在的窃听者，比如互联网服务提供商，也无法查看你的数据。

即便是在服务器被入侵的极端情况下，你的数据仍然是加密的——没有人可以在不知道密码的情况下解密你的文件。

### Obsidian 使用什么样的加密？

为了保障数据安全，我们使用了满足行业标准的加密协议。具体来说，我们使用 [AES-256](https://www.nist.gov/publications/advanced-encryption-standard-aes-0)标准，这是最强大的加密标准，在银行等领域被广泛应用。具体来说，加密过程涉及以下两步：

- **密钥生成算法：** 参见 [scrypt](https://en.wikipedia.org/wiki/Scrypt)
- **加密算法：** 使用 [Galois/Counter Mode (GCM)](https://en.wikipedia.org/wiki/Galois/Counter_Mode) 的 AES-256

### 如何验证我的数据是否进行了端到端加密？

请查看我们的指南：[如何验证 Obsidian 官方同步的端到端加密](https://obsidian.md/blog/verify-obsidian-sync-encryption/)。该指南提供了详细的操作说明。

### Obsidian 是否进行过第三方安全审计？

是的。Obsidian 已经进行了独立审计。请访问我们的[安全页面](https://obsidian.md/security)查看审计报告。第三方安全公司会定期审计，以确保 Obsidian 代码和流程符合最高安全标准。

### 如果我忘记了加密密码会发生什么？

如果你忘记了加密密码，该远程仓库将永远无法被其他本地仓库连接。

但是，各设备的数据仍然会安全地存储在该设备上。

在这种情况下，为了继续使用官方同步，我们建议你重新设置同步：

1. **在经常使用该仓库的设备上对仓库进行完整备份，以防数据丢失。** 这可以是简单地复制仓库文件夹，或者为仓库文件夹创建一个 zip 文件。
2. 在每台设备上断开远程仓库的连接。这可以通过转到**设置 → 同步 → 远程仓库 → 断开同步**来完成。
3. 点击**管理**，创建一个新的远程仓库。随后你可以选择删除之前的远程仓库，因为没有密码就无法继续使用。（如果你已达到仓库数量限制，就必须删除之前的远程仓库才能创建新仓库。）
4. 等待同步。此时你可以观察屏幕右下角的同步符号，直到它变为绿色勾号。
5. 将其余设备连接到新创建的远程仓库。在连接时，Obsidian 会进行仓库合并的警告，这是正常的，你可以继续合并。随后，设备就会连接并同步新远程仓库上的内容。
6. 现在你的所有设备应该都已经连接到新的远程仓库。

## 服务器
### 官方同步的服务器在哪里？

我们的服务器由 [DigitalOcean](https://www.digitalocean.com) 提供。对于不同地区，我们提供了不同的服务器。目前支持以下五个区域选项：

> [!abstract] 各地区对应的同步服务器
> **自动**：数据中心根据你 IP 的地理位置自动选择。
> 
> **亚洲**：新加坡
> **欧洲**：德国法兰克福
> **北美**：美国旧金山
> **大洋洲**：澳大利亚悉尼
^sync-geo-regions
### 我怎么知道当前仓库的同步服务器在哪？

你可以通过**设置** → **同步** → **复制调试信息**找到同步调试信息。将复制的内容粘贴到记事本中，你会看到这么一段文字：

`Host server: wss://sync-xx.obsidian.md`

这段内容就包含了同步服务器的编号。服务器编号及对应地区如下表所示：

以下列表显示了各地区同步服务器的编号。

| 旧金山                    | 法兰克福      | 新加坡       | 悉尼        |
| ---------------------- | --------- | --------- | --------- |
| `sync-01` to `sync-12` | `sync-13` | `sync-17` | `sync-18` |
| `sync-14` to `sync-15` | `sync-16` |           |           |
| `sync-19`              | `sync-20` |           |           |
| `sync-21`              |           |           |           |
^sync-server-location-table

## 网络和访问

### 如何管理对官方同步的网络访问

要在你的网络中管理对官方同步的访问，你需要管理以下域名：

`sync-xx.obsidian.md`

这里的 `xx` 表示从 `1 - 100` 的数字范围。

> [!tip] 如果你的网络防火墙支持白名单设置，我们建议将 `sync-*.obsidian.md` 加入白名单，以适应子域名不断增加的情况。